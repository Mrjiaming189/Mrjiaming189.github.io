<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        *{margin: 0;padding: 0}
        #obj{
            width: 400px;
            height: 300px;
            background: rgba(255,0,0,0.5);
            position: absolute;
            left: 0;
            top: 0;
            cursor: move;
        }
    </style>
</head>
<body>
<div id="obj"></div>
<script>
var obj=document.getElementById('obj');
var mouseDownX,mouseDownY,initX,initY,flag = false;  
obj.onmousedown = function(e) {  
    //鼠标按下时的鼠标所在的X，Y坐标  
    mouseDownX = e.pageX;  
    mouseDownY = e.pageY;  
  
    //初始位置的X，Y 坐标  
    initX = obj.offsetLeft;  
    initY = obj.offsetTop;  
  
    //表示鼠标已按下  
    flag = true;  
}  
obj.onmousemove = function(e) {  
    // 确保鼠标已按下  
    if(flag) {  
        var mouseMoveX = e.pageX,mouseMoveY = e.pageY;  
        this.style.left = parseInt(mouseMoveX) - parseInt(mouseDownX) + parseInt(initX) + "px";  
        this.style.top = parseInt(mouseMoveY) - parseInt(mouseDownY) + parseInt(initY) + "px";  
    }  
      
}  
obj.onmouseup = function() {  
    //标识已松开鼠标  
    flag = false;  
}  
</script>
</body>
</html>